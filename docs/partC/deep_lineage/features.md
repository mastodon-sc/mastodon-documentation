# Numerical Features added to Mastodon

### Spot Features

| **Feature name**             | **Projections**                                   | **Description**                                                                                                                                                                           | **Formula/Visualisation**                                                                                              |
|------------------------------|---------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| Spot Ellipsoid               | Short semi axes, Middle semi axis, Long semi axis | The ellipsoid semi axes in ascending order of length.                                                                                                                                     | The semi axes are computed applying the square root to the eigenvalues of the so-called covariance matrix of the spots |
|                              | Volume                                            | The volume of the ellipsoid. <br><br> Example visualization: ![spotVolumeAnimation.gif](features/spot/spotEllipsoidVolumeAnimation.gif)                                                   | ![](features/spot/spotVolume.gif)                                                                                      |
| Spot Ellipsoid Aspect Ratios | Aspect ratio short to middle                      | The ratio between the short axis and middle axis.                                                                                                                                         | ![](features/spot/spotShortMiddleAxis.gif)                                                                             |
|                              | Aspect ratio short to long                        | The ratio between the short axis and long axis.                                                                                                                                           | ![](features/spot/spotShortLongAxis.gif)                                                                               |
|                              | Aspect ratio middle to long                       | The ratio between the middle axis and long axis.                                                                                                                                          | ![](features/spot/spotMiddleLongAxis.gif)                                                                              |
| Spot Branch ID               | _idem_                                            | The ID of the branch spot each spot belongs to.                                                                                                                                           |                                                                                                                        |
| Spot Relative Movement*      | x, y and z component                              | The x, y and z components of the movement distance of a spot relative to its `n` nearest neighbors. The number of neighbors to be considered can be specified by the users. Default is 5. | ![](features/spot/spotRelativeMovementEquation1.gif)                                                                   |
|                              | distance                                          | The movement distance relative to `n` nearest neighbors.                                                                                                                                  | ![](features/spot/spotRelativeMovementEquation2.gif)                                                                   |

### Branch Features

| **Feature name**                     | **Projections**      | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | **Formula/Visualisation**                                                                                                     |
|--------------------------------------|----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| Branch N Leaves                      | _idem_               | The total number of leaves of a branch spot in the whole track subtree of this branch spot.  <br><br> Example visualization: ![branchNLeavesAnimation.gif](features/branch/branchNLeavesAnimation.gif)                                                                                                                                                                                                                                                                                                                                                           | ![](features/branch/branchNLeaves.png)                                                                                        |
| Branch N Successors and Predecessors | _idem_               | Total number of successors and predecessors of a branch spot in the whole track subtree of this branch spot.  <br><br> Example visualization: <br> Successors (encodes reproductivity) ![branchNSuccessorsAnimation.gif](features/branch/branchNSuccessorsAnimation.gif) <br> Predecessors (encodes generation) ![branchNPredecessorsAnimation.gif](features/branch/branchNPredecessorsAnimation.gif)                                                                                                                                                            | ![](features/branch/branchNSuccessorsPredecessors.png)                                                                        |
| Branch Sinuosity                     | _idem_               | The sinuosity of a spot during its life span (cf. [Sinuosity](https://en.wikipedia.org/wiki/Sinuosity)), i.e. how much the track represented by the branch is curved. Values close to 1: almost straight movement. Values significantly higher than 1: winding or meandering movement. Positive infinity (âˆž), if the spot is at the end at the same position as at the beginning, but has moved in between. <br><br>  Example visualization: ![branchSinuosityAnimation.gif](features/branch/branchSinuosityAnimation.gif)                                       | ![](features/branch/branchSinuosityEquation.gif)                                                                              |
| Branch Average Movement              | _idem_               | The average movement per frame of a spot during its life span. <br><br> Example visualization: ![branchAverageMovementAnimation.gif](features/branch/branchAverageMovementAnimation.gif)                                                                                                                                                                                                                                                                                                                                                                         | ![](features/branch/branchAverageMovementEquation.gif) <br><br> e.g.: <br><br> ![](features/branch/branchAverageMovement.png) |
| Branch Movement Direction            | _idem_               | The movement direction of a branch spot represented as a normalized directional vector pointing from the start (spot) position to the end (spot) position of the BranchSpot. <br><br> Example visualizations: <br> x-component ![branchMovementDirectionXAnimation.gif](features/branch/branchMovementDirectionXAnimation.gif) <br> y-component ![branchMovementDirectionYAnimation.gif](features/branch/branchMovementDirectionYAnimation.gif) <br> z-component ![branchMovementDirectionZAnimation.gif](features/branch/branchMovementDirectionZAnimation.gif) | ![](features/branch/branchMovementDirectionEquation.gif)                                                                      |
| Branch Cell Division Frequency       | _idem_               | Number of cell divisions in the subtree rooted at each Branch-spot divided by total duration of branches in this sub-tree. <br><br> Example visualization: ![branchCellDivisionFrequencyAnimation.gif](features/branch/branchCellDivisionFrequencyAnimation.gif)                                                                                                                                                                                                                                                                                                 | ![](features/branch/branchCellDivisionFrequency.png)                                                                          |
| Branch Relative Movement*            | x, y and z component | The x, y and z components of the average speed of a spot during its life span relative to its `n` nearest neighbors. The number of neighbors to be considered can be specified by the users. Default is 5.                                                                                                                                                                                                                                                                                                                                                       | ![](features/branch/branchRelativeMovementEquation1.gif)                                                                      |
|                                      | average speed        | The average speed of a spot during its life span relative to its `n` nearest neighbors. <br><br> Example visualization: ![branchRelativeMovementAnimation.gif](features/branch/branchRelativeMovementAnimation.gif)                                                                                                                                                                                                                                                                                                                                              | ![](features/branch/branchRelativeMovementEquation2.gif)                                                                      |

'*' The relative movement features cannot be called from the FeatureComputer directly. Instead, they can be accessed via
the plugin menu: `Plugins > Compute Features > Movement of spots relative to nearest neighbors`
